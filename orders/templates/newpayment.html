{% extends 'layout.html' %}

{% load widget_tweaks %}

{% block title %} Edit Payment {% endblock %}

{% block body %}

                <section>
					<div class="section-body">
						<div class="row">

							<!-- BEGIN  - FORM -->
							<div class="col-lg-12">
								<div class="card">
									<div class="card-head style-primary">
										<header>Edit Payment</header>
										<div class="tools">
											<a class="btn btn-icon-toggle btn-collapse"><i class="fa fa-angle-down"></i></a>
											<a class="btn btn-icon-toggle btn-close"><i class="md md-close"></i></a>
										</div>
									</div>
									<div class="card-body">
										<div class="row">
											<form class="form" role="form" action="" method="post"> {% csrf_token %}
											
													
													<div class="row">
													<div class="col-md-12">
															<hr>
															<label class="radio-inline radio-styled col-sm-2">
																<b>Payment Status :</b>
															</label>
															<div class="col-md-10">

		                                                        {% for radio in payment.payment_status %}
		                                                            <label class="radio-inline radio-styled">
		                                                                {{ radio }}
		                                                            </label>
		                                                        {% endfor %}

															</div>
													</div>
											
													<!--end .table-responsive -->				
																		
											
													<div class="col-md-12">
															<hr>
															<label class="radio-inline radio-styled col-sm-2">
																<b>Amount Paid :</b>
															</label>
															<div class="col-sm-4">

		                                                      {{ payment.amount_paid | add_class:'form-control'}}

															</div>
													</div>
													<div class="col-md-12">
															<hr>
															<label class="radio-inline radio-styled col-sm-2">
																<b>Payment Due :</b>
															</label>
															<div class="col-sm-4">

		                                                      {{ payment.total | add_class:'form-control'}}

															</div>
													</div>
												</div>
												<hr>

												<div class="row">
													<div class="col-sm-3">
														<div class="card-actionbar-row">
															<input type="submit" class="btn btn-flat btn-primary ink-reaction" value="SUBMIT">
														</div>
													</div>
												</div>
											</div>
											</form>
										</div>
									</div><!--end .card-body -->
								</div><!--end .card -->
							</div><!--end .col -->
							<!-- END FORM - TIME ON SITE -->

						</div><!--end .row -->
					</div><!--end .section-body -->
				</section>
				<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
				<script type="text/javascript">
					$(document).ready(function(){
						if ($("#id_payment_status_1").prop("checked")) {
							var value=$("#id_amount_paid").val()
							$("#id_amount_paid").attr('data-id',value)
							if(value == 0){
								$("#id_amount_paid").val("")
								$("#id_amount_paid").attr('required', true);
							}

						}
						else if ($("#id_payment_status_2").prop("checked")) {
							var value=$("#id_amount_paid").val()
						
							if(value == 0){
								$("#id_amount_paid").val("")
								$("#id_amount_paid").attr('required', true);
							}

						}
						else{
							$("#id_payment_status_0").prop("checked",true)
							$("#id_amount_paid").val("0")
						}
						$("#id_payment_status_1").click(function(){
							var value = $("#id_amount_paid").attr('data-id')
							if(value){
								$("#id_amount_paid").val(value)
							}
							else{
								$("#id_amount_paid").val("")
								$("#id_amount_paid").attr('required', true);
							}
						})
						$("#id_payment_status_0").click(function(){

							$("#id_amount_paid").val("0")
							$("#id_amount_paid").attr('required', false);
						})
						$("#id_payment_status_2").click(function(){
							var total = $('#id_total').val()

							$("#id_amount_paid").val(total)
							$("#id_amount_paid").attr('required', false);
						})
					})
				</script>

{% endblock %}